let user = {
  firstName: 'Ілон',
  lastName: 'Маск',
  middleName: 'Ерролович'
}
console.log(user.lastName) // == 'Маск'

var prepareDataHelper = {
  convertToDateKeys: function(list, fields) {
      var res = {};
      var minDate = '';
      var maxDate = '';

      //some code
  },

  addMissingDateKeys: function(datedList, range, fields) {
      var min = new Date(range[0]);
      var max = new Date(range[1]);

      //some code

      return datedList;
  },

  unionTimes: function(listAll) {
      var res = [];

      //some code

      return res;
  },
}

var dateKeys = prepareDataHelper.convertToDateKeys(inputData, fields);
var datedList = prepareDataHelper.addMissingDateKeys(dateKeys.res, dateKeys.range, fields);


$.ajax({
  accepts: {
    mycustomtype: 'application/x-some-custom-type'
  },

  // Instructions for how to deserialize a `mycustomtype`
  converters: {
    'text mycustomtype': result => '"' + result + '"'
  },

  // Expect a `mycustomtype` back from server
  dataType: 'mycustomtype'
});



let editor = new MediumEditor('.editable', 0, -10, null, null, false, 'center', ['bold', 'italic']);

let editor = new MediumEditor('.editable', {
  toolbar: {
    diffLeft: 0,
    diffTop: -10,
    sticky: false,
    align: 'center',
    buttons: ['bold', 'italic', 'underline', 'anchor', 'h2', 'h3', 'quote'],
  }
});

let toolbar = {
  diffLeft: 0,
  diffTop: -10,
  sticky: false,
  align: 'center',
  buttons: ['bold', 'italic', 'underline', 'anchor', 'h2', 'h3', 'quote'],
}
let options = {
  toolbar: visibleToolbar ? toolbar : false,
  anchor: false
}

let editor = new MediumEditor('.editable', options);



function MediumEditor(domEl, options) {
  domEl === '.editable'
  options.toolbar.align === 'center'
}

function MediumEditor(domEl, {toolbar, placeholder}) {
  domEl === '.editable'
  toolbar.align === 'center'
  placeholder === undefined
}

function MediumEditor(domEl, {toolbar:tb, placeholder = false}) {
  domEl === '.editable'
  tb.align === 'center'
  placeholder === false //undefined without '= false'
}

//ES5
let user = getUser()
console.log(user.lastName)// === 'Маск'

//ES6
let {lastName} = getUser()
console.log(lastName)// === 'Маск'

import moment from 'moment'
//moment.months() === [ 'January', 'February', .......]

import {months} from 'moment'
//months() === [ 'January', 'February', .......]




let options = {
  size: {
    width: 100,
    height: 200
  },
  items: ["Арабіка", "Робуста"]
}

let { title="Барна стійка", size: {width, height}, items: [item1, item2] } = options;



function drawES5Chart(options) {
  options = options === undefined ? {} : options;
  var size = options.size === undefined ? 'big' : options.size;
  var cords = options.cords === undefined ? {x: 0, y: 0} : options.cords;
  var radius = options.radius === undefined ? 25 : options.radius;
  console.log(size, cords, radius);
  // тепер, врешті, малюй діаграму
}

function drawES5Chart(options) {
  options = options || {};
  var size = options.size || 'big';
  var cords = options.cords || {x: 0, y: 0};
  var radius = options.radius || 25;
  //а якщо треба передати radius = 0 ?
  console.log(size, cords, radius);
  // тепер, врешті, малюй діаграму
}

drawES5Chart({
  cords: {x: 18, y: 30},
  radius: 30
});


function drawES2015Chart({size = 'big', cords = {x: 0, y: 0}, radius = 25} = {}) {
  console.log(size, cords, radius);
  // малюй діаграму
}

drawES2015Chart({
  cords: {x: 18, y: 30},
  radius: 30
});

//без let/var
//{a, b} = {a: 1, b: 2}
({a, b} = {a: 1, b: 2})


let options = {
  title: "Меню",
  width: 100,
  height: 200
};

let {title, ...others} = options;

// title = "Меню"
// others = { width: 100, height: 200}


let options = {
  title: "Меню",
  width: 100,
  height: 200
};


let title = "Меню"
let others = { width: 100, height: 200}

let options = {title, ...others};
/*
options == {
  title: "Меню",
  width: 100,
  height: 200
};
*/

let arr = [1, 2];
let [first, second] = arr;

let [firstName, middleName] = 'Ілон Ерролович Маск'.split(' ')
// firstName == 'Ілон'
// middleName == 'Маск'
// lastName == 'Ерролович'

let [firstName, ...rest] = 'Ілон Ерролович Маск'.split(' ')
// firstName == 'Ілон'
// rest == ['Ерролович', 'Маск']

let [, , lastName] = 'Ілон Ерролович Маск'.split(' ')
// lastName == 'Маск'


this.styles = {
  'type': 'circle',
  'radius': 10,
}

map.addLayer({
  'id': layerId,
  'source': layerId,
  ...this.styles,
});

let styles = {
  'type': 'circle',
  'radius': 10,
}
styles.id = layerId
styles.source = sourceId
//ми змінюємо styles, це може вилізти боком
map.addLayer(styles)


https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Operators/%D0%94%D0%B5%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D1%96%D1%8F
https://learn.javascript.ru/destructuring
https://babeljs.io/docs/plugins/transform-object-rest-spread/
https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Operators/Spread_syntax
https://habr.com/post/111290/
http://www.dut.edu.ua/uploads/l_1521_96789782.pdf



var module = require('./module');
users.sort(module.chinaSort);

var chinaSort = require('./module').chinaSort;
var {chinaSort} = require('./module'); //альтернатива

users.sort(chinaSort);

import module from './module';
users.sort(module.chinaSort);

import {chinaSort} from './module';
users.sort(chinaSort);

require(['chinaSort', 'anotherSort'], function(chinaSort, anotherSort) {
    users.sort(chinaSort);
});

// ES6
import queryString from 'query-string';


import defaultExport from "module-name"; //рекомендований
import * as name from "module-name";
import { export } from "module-name";  //рекомендований
import { export as alias } from "module-name";
import { export1 , export2 } from "module-name";
import { export1 , export2 as alias2 , [...] } from "module-name";
import defaultExport, { export [ , [...] ] } from "module-name";
import defaultExport, * as name from "module-name";
import "module-name";




export var variable;
export const CONSTANT = 0;
export let scopedVariable = 20;
export function func(){};
export class Foo {};



export const pi = Math.PI;
export function sum(x, y) {
    return x + y;
}
export function multiply(x, y) {
    return x * y;
}

//інший спосіб
const pi = Math.PI;
function sum(x, y) {
    return x + y;
}

export { pi, sum };
export { pi as notPi, sum };

import { pi, sum } from 'utils';
console.log(pi); //3.14159265359
console.log(sum(2.3, 2.4)) // 4.7



export var prepareDataHelper = {
  convertToDateKeys: function(params) {
      //some code
  },

  addMissingDateKeys: function(params) {
      //some code
  },

  unionTimes: function(params) {
      //some code
  },
}

import {prepareDataHelper as newName} from 'prepare-module';
newName.unionTimes(someArray);

export default {
  convertToDateKeys: function(params) {
      //some code
  },

  addMissingDateKeys: function(params) {
      //some code
  },

  unionTimes: function(params) {
      //some code
  },
}

import newName from 'prepare-module';
newName.unionTimes(someArray);


let f = ([a, b] = [1, 2], {x: c} = {x: a + b}) => a + b + c;
f(); // ?


var obj = {
  name: name,
  rating: rating,
  comments: comments,
  checkPermissions: function() {
    //...
  }
}
obj['custom' + dynamicField] = value;

let obj = {
  name,
  rating,
  comments,
  checkPermissions() {
    //...
  },
  ['custom' + dynamicField]: value,
}

for (let val of obj) {
  console.log(val); // 'Ilon', 4.5, 'All right', 'admin', Mask'
}

for (let key in obj) {
  console.log(key); // 'name', 'rating', 'comments', 'checkPermissions', 'customName'
}


var data = readData(url)
var result = processingData(data)
saveDate(result)
var log = {/*some data*/}
saveLog(log)

$.ajax(url, { // readData
  success: function(data) {
    var result = processingData(data)
    $.ajax(saveUrl, { // saveDate
      success: function(savedData) {
        console.log('result saved')
        var log = { /*some data*/ }
        $.ajax(saveLogUrl, { // saveLog
          success: function(logData) {
            console.log('log saved')
          }
        })
      }
    })
  }
})

$.ajax(url).then(function(data) { // readData
  var result = processingData(data)
  return $.ajax(saveUrl)
}).then(function(savedData) { // saveDate
  console.log('result saved')
  var log = { /*some data*/ }
  return $.ajax(saveLogUrl)
}).then(function(logData) {
  console.log('log saved')
})



var data = readData(url)
var result = processingData(data)
saveDate(result)

$.ajax(url, { // readData
  success: function(data) {
    var result = processingData(data)
    $.ajax(saveUrl, { // saveDate
      success: function(savedData) {
        console.log('result saved')
      }
    })
  }
})

$.ajax(url).then(function(data) { // readData
  var result = processingData(data)
  return $.ajax(saveUrl)
}).then(function(savedData) { // saveDate
  console.log('result saved')
  var log = { /*some data*/ }
  return $.ajax(saveLogUrl)
})


$.ajax(url, {
  success: function(data) {
    // process
  }
})

var ajax = $.ajax(url)
ajax.soccess = function(data) {
  // process
}



var xhr = new XMLHttpRequest();
xhr.open('GET', url, true);

xhr.onload = function() {
  if (this.status == 200) {
    resolve(this.response);
  } else {
    var error = new Error(this.statusText);
    error.code = this.status;
    reject(error);
  }
};

httpGet("/article/promise/user.json")
  .then(
    response => alert(`Fulfilled: ${response}`),
    error => alert(`Rejected: ${error}`)
  );


var xhr = new XMLHttpRequest();
xhr.open('GET', url, false);
xhr.send();

if (xhr.status == 200) {
  console.log( xhr.responseText ); // responseText -- текст ответа.
} else {
  console.log( xhr.status + ': ' + xhr.statusText ); // пример вывода: 404: Not Found
}

axios.get(url)
.then(function (response) {
  console.log(response);
})
.catch(function (error) {
  console.log(error);
});


fs.readdir(source, function (err, files) {
  if (err) {
    console.log('Error finding files: ' + err);
  } else {
    files.forEach(function (filename, fileIndex) {
      console.log(filename);
      gm(source + filename).size(function (err, values) {
        if (err) {
          console.log('Error identifying file size: ' + err);
        } else {
          console.log(filename + ' : ' + values);
          var aspect = (values.width / values.height);
          widths.forEach(function (width, widthIndex) {
            var height = Math.round(width / aspect);
            console.log('resizing ' + filename + 'to ' + height + 'x' + height);
            this.resize(width, height).write(dest + 'w' + width + '_' + filename, function (err) {
              if (err) {
                console.log('Error writing file: ' + err);
              }
            });
          }.bind(this));
        }
      });
    });
  }
});

$('selector') - перший елемент
$$('selector') - массив елементів
$x('xpath') - массив елементів XPath

inspect($('selector'))


var xhr = new XMLHttpRequest();
xhr.open("GET", url, true);
xhr.onload = function (e) {
  if (xhr.readyState === 4) {
    if (xhr.status === 200) {
      console.log(xhr.responseText);
    } else {
      console.error(xhr.statusText);
    }
  }
};
xhr.onerror = function (e) {
  console.error(xhr.statusText);
};
xhr.send(null);

var butt = document.querySelector('button');
butt.onclick = function(e) {
  // process
}

//аналог одним параметром .thes(onFulfilled, onRejected)
axios.get(url)
  .then(function (response) {
    console.log(response);
}, function (error) {
    console.log(error);
});


var str = 'I am a JavaScript programmer';
var str = "I am a JavaScript programmer";

var str = 'I'am a JavaScript programmer';
var str = "I'am a JavaScript "programmer"";

var str = 'I\'m a JavaScript programmer';
var str = "I'm a JavaScript \"programmer\"";

//не рекомендується, рядки зливаються
var str = 'I\'m \
a \
JavaScript \
programmer';

//з нового рядка
var str = 'I\'m\na\nJavaScript\nprogrammer';

// одним рядком
$0.innerHTML = str;
// \n перетворюється в <br>
$0.innerText = str;
$0.innerHTML = str.replace(/[\r\n]/g, '<br>');


'location.href = "' + location.href + '", document.title = "' + document.title + '"'
`location.href = "${location.href}", document.title = "${document.title}"`

<a onclick="alert('Dou!')">Message</a>
$('div.result').innerHTML = '<span class="number">3.14159</span>'

var str = `You're
a
JavaScript
"programmer"`;


var obj = {
  toString: function() {
    return 'objAsString';
  },
  valueOf: function() {
    return 123;
  }
};

alert(obj); // objAsString
obj.toString(); // objAsString
String(obj); // objAsString
obj + ' 2'; // objAsString 2

obj.valueOf(); // 123
Number(obj); // 123
obj - 3; //120


var str = 'Webmil';
str.includes('b') === true
str.endsWith('l') === true
str.startsWith('W') === true
str.repeat(3) === 'WebmilWebmilWebmil'


var lang = 'JavaScript';
var str = `You're
a
${lang}
"programmer"`;

$("#p1").css("color", "red");
$("#p1").slideUp(2000);
$("#p1").slideDown(2000);

$("#p1").css("color", "red").slideUp(2000).slideDown(2000);

var result_1 = $("#p1").css("color", "red");
var result_2 = result_1.slideUp(2000);
var result_3 = result_2.slideDown(2000);

//старий спосіб
// що відбувається
//хитрість в тому що $("#p1") === result_1 === result_2 === result_3 і до безкінечності



promise1.then(function(data) {
  // process data
  return promise2;
 }).then(function(savedData) { // saveDate
  // process savedData
  return promise3;
 }).then(function(logData) {
  // process logData
 })
 
 let promise2 = promise1.then(function(data) {
  // process data
  return promise2;
 });

 let promise3 = promise2.then(function(savedData) { // saveDate
  // process savedData
  return promise3;
 })
 
 promise3.then(function(logData) {
  // process logData
 })

 promise1.then(func1).then(func2).then(func3)






let placeField = 'born';

let user = {
  firstName: 'Іван',
  'lastName': 'Франко',
  born: '1856-08-27',
  [placeField + 'Place']: 'Нагуєвичі',
  getFullName: function() {
    return this.firstName + ' ' + this.lastName;
  }
}

let placeField = 'born';

let user = {};
user.firstName = 'Іван';
user.lastName = 'Франко';
user.born = '1856-08-27';
user[placeField + 'Place'] =
user.getFullName = function() {
  return this.firstName + ' ' + this.lastName;
}

'lastName' in user //true
'middleName' in user //false

delete user.lastName

for (let val of user) {
  console.log(val);
}

for (let key in user) {
  console.log(key, user[key]);
}

let statObj = {
  '2018-07-01': 12,
  '2018-07-02': 23,
  '2018-07-03': 34,
}

let errorStatArr = [
  '2018-07-01': 12,
  '2018-07-02': 23,
  '2018-07-03': 34,
];

let statArr = [];
statArr['2018-07-01'] = 12;
statArr['2018-07-02'] = 23;
statArr['2018-07-03'] = 34;

for (let key in statObj) {
  console.log(key, statObj[key]);
}

for (let key in statArr) {
  console.log(key, statArr[key]);
}

for (let val of statArr) {
  console.log(val);
}

Object.keys(user);
Object.values(user);
Object.entries(user);

console.log(typeof statArr); // object
console.log(typeof statObj); // object

console.log(statArr instanceof Object); // true
console.log(statObj instanceof Object); // true

console.log(statArr instanceof Array); // true
console.log(statObj instanceof Array); // false

let notOrdered = {
  '2': 'val2',
  '10': 'val10',
  '1': 'val1',
}

// {1: "val1", 2: "val2", 10: "val10"}

let ordered = {
  '+2': 'val2',
  '+10': 'val10',
  '+1': 'val1',
}

// {+2: "val2", +10: "val10", +1: "val1"}


class User {

  constructor(name) {
    this.name = name;
  }

  sayHi() {
    alert(this.name);
  }

}

let user = new User("Вася");
user.sayHi(); // Вася

class AdminUser extends User {
  //constructor cloned from User

  sayHi() {
    super.sayHi();
    alert(`${this.name} is admin`);
  }

}

let admin = new AdminUser("Коля");
admin.sayHi(); // Коля + Коля is admin


class WebmilArray extends Array {
  startWith(elem) {
    // elem must be first in array
  }
}

let arr = new WebmilArray(1, 2, 3);
let TwoInArr = arr.startWith(2); // true


console.log(typeof WebmilArray); // object
console.log(WebmilArray instanceof Object); // true
console.log(WebmilArray instanceof Array); // true
console.log(WebmilArray instanceof WebmilArray); // true
console.log(WebmilArray instanceof Date); // false

console.log([].constructor.name) //Array
console.log(new Array().constructor.name) //Array
console.log(new WebmilArray().constructor.name) //WebmilArray
console.log(Array.constructor.name) //Function


Патерн Фабрика (функція, що створює об'єкти)

let createUser = (...args) => new User(...args);

//аналог
//let user = new User('Elon', 'Musk');
let user = createUser('Elon', 'Musk');

let createClient = (type, ...args) => {
  if (type === 'user')  return new User(...args);
  if (type === 'admin') return new AdminUser(...args);

  throw new UserError('unknown type');
  return false;
}

if (err instanceof UserError) //show user error


let user = createClient('user', 'Elon', 'Musk');
let admin = createClient('admin', 'Elon', 'Musk');


var now = new Date();
var mar03_2018 = new Date('2018-03-03');
var aug03_2018 = new Date(2018, 8, 3);

aug03_2018.getFullYear() // 2018
aug03_2018.setFullYear(2017);

//статичний метод класу Date
var msUTC = Date.parse('2012-01-26T13:51:50.417Z');
var date = new Date(msUTC);
msUTC.getFullYear() // 2012


//звичайний метод .map()
const numbers = [2, 3, 4, 5];
const dollars = numbers.map( number => '$' + number);
// Масив dollars буде виглядати так ['$2', '$3', '$4', '$5']

//статичний метод .isArray()
Array.isArray([1, 2, 3]);    // true
Array.isArray(new Array());  // true
Array.isArray({foo: 123});   // false
Array.isArray('foobar');     // false
Array.isArray(undefined);    // false

console.log( Math.PI );


const weather = {
  rain: 0,
  temperature: 24,
  humidity: 33,
}

const entries = Object.entries(weather);
// Масив entries отримає пари елементів зі значеннями
// [['rain', 0], ['temperature', 24], ['humidity', 33]]

console.log( weather.temperature ); // 24

class User {
  constructor(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
  }

  static createGuest() { // статичний фабричний метод
    return new User('Elon', 'Musk');
  }

  static get elemClass() {
    return 'user';
  }
};

let user = User.createGuest();

alert( user.firstName ); // Гость

alert( User.createGuest ); // createGuest ... (function)


let createCacheUser = (...args) => {
  let user = cache.getUser(...args);

  if (user)
    return user
  else
    return new User(...args);
}

let user = createCacheUser('Elon', 'Musk');


jQuery(document).ready(function(){

  jQuery('.pane .delete').click(function(){
      jQuery(this).parents('.pane').animate({ opacity: 'hide' }, 'slow');
  });

});

date1.getDiff(date2) //звичайний метод
Date.getDiff(date1, date2) //статичний метод



class User {
  constructor(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
  }

  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  }

  set fullName(newValue) {
    [this.firstName, this.lastName] = newValue.split(' ');
  }
};

let user = new User('Elon', 'Musk');
alert( user.fullName ); // Elon Musk

user.fullName = 'Mary Poppins';
alert( user.fullName ); // Mary Poppins



let emailLayout = client => {
  return
    `Шановний ${client.firstName} ${client.lastName}
     Ваша заборгованість перейшла всі межі.`;
}

let emailLayout = client => {
  if (!(client instanceof User)) throw new Error('bad type');

  return
    `Шановний ${client.firstName} ${client.lastName}
     Ваша заборгованість перейшла всі межі.`;
}

let emailLayout = client => {
  if ((firstName in client) && (lastName in client)) throw new Error('bad type');

  return `Шановний ${client.firstName} ${client.lastName}. Ваша заборгованість перейшла всі межі.`;
}


var user = {
  firstName: 'Webmil',
  sayHi: function() {
    alert( this.firstName );
  }
};

setTimeout(user.sayHi, 1000);

var user = {
  firstName: 'Webmil',
  sayHi: function() {
    alert( this.firstName );
  }
};

setTimeout(function() {
  user.sayHi();
}, 1000);

setTimeout(() => {
  user.sayHi();
}, 1000);

var user = {
  firstName: 'Webmil',
  sayHi: function() {
    alert( this.firstName );
  }
};

setTimeout(user.sayHi.bind(user), 1000);



func.call(context, arg1, arg2);
func.apply(context, [arg1, arg2]);

let args = [arg1, arg2];
func.call(context, ...arg1);
func.apply(context, args);

Math.max(val1, val2, val3);
Math.max.apply(null, arr);
Math.max(...arr);


function makeCounter() {
  var currentCount = 1;

  return function() {
    return currentCount++;
  };
}

var counter = makeCounter();

alert( counter() ); // 1
alert( counter() ); // 2
alert( counter() ); // 3

var counter2 = makeCounter();
alert( counter2() ); // 1


let makeCounter = () => {
  let currentCount = 1;

  return () => currentCount++;
}

let counter = makeCounter();

alert( counter() ); // 1
alert( counter() ); // 2
alert( counter() ); // 3

let counter2 = makeCounter();
alert( counter2() ); // 1


function User(firstName, lastName) {
  this.firstName = firstName;
  this.lastName = lastName;

  this.sayHi = function() {
    alert( this.firstName );
  }

  return this;
}


//getJSON - проміс

const makeRequest = () =>
  getJSON('http://webmil.eu/api/users')
    .then(data => {
      console.log(data)
      return "done"
    })

makeRequest()


const makeRequest = async () => {
  console.log(await getJSON('http://webmil.eu/api/users'))
  return "done"
}

makeRequest()



const makeRequest = () => {
  try {
    getJSON()
      .then(result => {
        const data = JSON.parse(result)
        console.log(data)
      })
      .catch((err) => {
        console.log(err)
      })
  } catch (err) {
    console.log(err)
  }


let hn = require('@datafire/hacker_news').create();

let storyIDs = hn.getStories({storyType: 'top'});
let topStory = hn.getItem({itemID: storyIDs[0]});
console.log(`Top story: ${topStory.title} - ${topStory.url}`);


let hn = require('@datafire/hacker_news').create();
hn.getStories({storyType: 'top'}, (err, storyIDs) => {
  if (err) throw err;
  hn.getItem({itemID: storyIDs[0]}, (err, topStory) => {
    if (err) throw err;
    console.log(`Top story: ${topStory.title} - ${topStory.url}`);
  })
})


let hn = require('@datafire/hacker_news').create();

Promise.resolve()
  .then(_ => hn.getStories({storyType: 'top'}))
  .then(storyIDs => hn.getItem({itemID: storyIDs[0]))
  .then(topStory => console.log(`Top story: ${topStory.title} - ${topStory.url}`))


let hn = require('@datafire/hacker_news').create();

(async () => {

  let storyIDs = await hn.getStories({storyType: 'top'});
  let topStory = await hn.getItem({itemID: storyIDs[0]});
  console.log(`Top story: ${topStory.title} - ${topStory.url}`);

})();



https://habr.com/company/ruvds/blog/326074/
https://habr.com/company/ruvds/blog/339770/
https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Operators/await
https://uk.wikipedia.org/wiki/Await



let hn = require('@datafire/hacker_news').create();

(async () => {

  let user1 = await hn.getUser({username: 'sama'});
  let user2 = await hn.getUser({username: 'pg'});

  let [more, less] = [user1, user2].sort((a, b) => b.karma - a.karma);
  console.log(`${more.id} has more karma (${more.karma}) than ${less.id} (${less.karma})`);

})();


let hn = require('@datafire/hacker_news').create();

(async () => {

  let users = await Promise.all([
    hn.getUser({username: 'sama'}),
    hn.getUser({username: 'pg'}),
  ]);

  let [more, less] = users.sort((a, b) => b.karma - a.karma);
  console.log(`${more.id} has more karma (${more.karma}) than ${less.id} (${less.karma})`);

})();